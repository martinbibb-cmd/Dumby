:root{
  --bg:#0f0f10; --fg:#f2f2f2; --muted:#b7b7b7; --card:#17171a; --accent:#66d9ef;
  --good:#9be39b; --warn:#f7c948; --bad:#ff6b6b; --border:#2a2a2f;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg); color:var(--fg);
}
.app{display:grid; grid-template-columns:260px 1fr; min-height:calc(100vh - 7.2rem)}
.sidebar{border-right:1px solid var(--border); background:#0f1013; display:flex; flex-direction:column}
.sidebar h2{font-size:0.9rem; font-weight:600; padding:0.75rem 1rem; margin:0; color:var(--muted)}
.category-list{list-style:none; margin:0; padding:0.25rem}
.category-list li{margin:0; padding:0}
.category-list button{
  display:block; width:100%; text-align:left; padding:0.5rem 0.75rem; border:none; background:transparent; color:var(--fg); border-radius:6px;
}
.category-list button.active{background:#1a1b20}
.category-list button:hover{background:#17181d}
.meta{margin-top:auto; padding:0.75rem; color:var(--muted); font-size:0.85rem; border-top:1px solid var(--border)}
.content{padding:0.75rem}
.tree{list-style:none; margin:0; padding:0.25rem}
.node{background:var(--card); border:1px solid var(--border); border-radius:10px; margin:0 0 0.6rem 0; padding:0.25rem}
.node-head{display:flex; align-items:flex-start; gap:0.5rem}
.collapse{border:none; background:#0f1115; color:var(--muted); border:1px solid var(--border); padding:0.25rem 0.5rem; border-radius:6px; cursor:pointer}
.node-text{flex:1; min-width:0}
.node-title{font-weight:600}
.node-summary{color:var(--muted); font-size:0.9rem}
.node-actions{display:flex; gap:0.5rem}
.node-actions button{
  background:#0f1115; color:var(--fg); border:1px solid var(--border); padding:0.35rem 0.6rem; border-radius:6px; cursor:pointer
}
.node-actions button.copy{border-color:#2b3f2b}
.node-actions button.copy:hover{outline:1px solid var(--good)}
.node-actions button.edit:hover{outline:1px solid var(--accent)}
.node-actions button.delete{border-color:#3f2b2b}
.node-actions button.delete:hover{outline:1px solid var(--bad)}
.children{list-style:none; margin:0.25rem 0 0.4rem 2rem; padding:0}
.edit-form{display:grid; gap:0.6rem; min-width:320px}
.edit-form input, .edit-form textarea{
  width:100%; padding:0.6rem 0.7rem; border-radius:8px; border:1px solid var(--border); background:#0f1013; color:var(--fg)
}
.dialog-actions{display:flex; gap:0.5rem; justify-content:flex-end}
#toast{
  position:fixed; left:50%; transform:translateX(-50%); bottom:1rem; background:#15161a; border:1px solid var(--border);
  color:var(--fg); padding:0.5rem 0.75rem; border-radius:8px; display:none; z-index:100;
}
.compact .node{padding:0.15rem}
.compact .node-summary{display:none}
.light body{background:#ffffff;color:#111}
@media (max-width: 880px){
  .app{grid-template-columns:1fr}
  .sidebar{order:2}
}
